RewriteEngine On

# キャッシュを徹底的に防止
<IfModule mod_headers.c>
    Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
    Header set Pragma "no-cache"
    Header set Expires "0"
</IfModule>

# 自動的なファイル検索（MultiViews）をオフにして、RewriteRuleを確実に適用
Options -MultiViews

# 設定ファイル(.cgi)への直接アクセスを禁止
RewriteRule \.cgi$ - [F]

# 全てのリクエストを admin/index.php に集約
RewriteCond %{REQUEST_URI} !^/admin/index.php
RewriteRule ^(.*)$ admin/index.php [L,QSA]
